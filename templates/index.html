<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Baixe vídeos do TikTok sem marca d'água de graça.">
    

    <title>Universal Downloader - Baixe sem Marca D'água</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- CONFIGURAÇÕES GERAIS --- */
        :root {
            --primary-gradient: linear-gradient(135deg, #7B2CBF 0%, #4CC9F0 100%); /* Roxo para Azul */
            --secondary-color: #2c3e50;
            --white: #ffffff;
            --light-gray: #f8f9fa;
            --accent: #4CC9F0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--white);
            color: var(--secondary-color);
            overflow-x: hidden;
        }

        /* --- HEADER & MENU --- */
        header {
            background: var(--white);
            padding: 15px 5%;
            display: flex;
            justify-content: space-between; /* Corrigido de _ para - */
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: relative;
            z-index: 100;
        }

        .logo {
            font-weight: 700;
            font-size: 1.5rem;
            background: var(--primary-gradient);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hamburger {
            font-size: 1.8rem;
            cursor: pointer;
            color: #333;
        }

        /* Menu Lateral (Escondido) */
        .sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 250px;
            height: 100%;
            background: white;
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            transition: 0.3s;
            z-index: 200;
            padding-top: 60px;
        }

        .sidebar.active {
            right: 0;
        }

        .sidebar a {
            padding: 15px 25px;
            text-decoration: none;
            font-size: 1.1rem;
            color: #333;
            display: block;
            transition: 0.2s;
            border-bottom: 1px solid #eee;
        }

        .sidebar a:hover {
            background: #f0f0f0;
            padding-left: 35px;
            color: #7B2CBF;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 2rem;
            cursor: pointer;
        }

        /* --- HERO SECTION (A PARTE ROXA) --- */
        .hero {
            background: var(--primary-gradient);
            padding: 60px 20px 100px 20px;
            text-align: center;
            color: white;
            border-bottom-left-radius: 50% 20px;
            border-bottom-right-radius: 50% 20px;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            font-weight: 700;
        }

        .downloader-box {
            background: white;
            max-width: 700px;
            margin: 0 auto;
            padding: 10px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            position: relative;
        }

        .downloader-box input {
            flex: 1;
            border: none;
            padding: 15px 20px;
            font-size: 1rem;
            outline: none;
            border-radius: 50px;
        }

        .paste-btn {
            background: transparent;
            color: #666;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
            border-right: 1px solid #eee;
        }

        .download-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s;
            margin-left: 10px;
        }

        .download-btn:hover {
            transform: scale(1.05);
        }

        /* Opções de Formato (MP3/MP4) */
        .format-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .radio-label {
            color: rgba(255,255,255,0.8);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }

        .radio-label input {
            accent-color: #25F4EE;
        }

        /* --- CARDS DE BENEFÍCIOS --- */
        .features {
            max-width: 1000px;
            margin: 50px auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            padding: 0 20px;
            text-align: center;
        }

        .feature-card {
            padding: 20px;
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #7B2CBF;
        }

        .feature-card h3 {
            margin-bottom: 10px;
            font-weight: 700;
        }

        .feature-card p {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* --- TEXTO EXPLICATIVO (SEO) --- */
        .about-text {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
            text-align: left;
        }
        .about-text h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.8rem;
            color: var(--secondary-color);
        }
        .about-text p {
            margin-bottom: 15px;
            line-height: 1.6;
            color: #555;
            text-align: justify;
        }

        /* --- GRADE DE RECURSOS EXTRAS (6 ÍCONES) --- */
        .extra-features {
            max-width: 1000px;
            margin: 0 auto 60px auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Cria colunas automáticas */
            gap: 40px;
            text-align: center;
        }
        .extra-item i {
            font-size: 3.5rem;
            color: #5732FB; /* Roxo azulado igual ao do print */
            margin-bottom: 20px;
            display: inline-block;
            transition: transform 0.3s;
        }
        .extra-item:hover i {
            transform: translateY(-10px); /* Efeito pulando ao passar o mouse */
        }
        .extra-item p {
            color: #555;
            font-size: 0.95rem;
            line-height: 1.5;
            font-weight: 500;
        }

        /* --- COMO BAIXAR (PASSO A PASSO) --- */
        .how-to {
            background: #6a3093;
            background: linear-gradient(to right, #6a3093, #a044ff);
            color: white;
            margin: 50px 20px;
            padding: 40px;
            border-radius: 20px;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }

        .how-to h2 {
            text-align: center;
            margin-bottom: 40px;
        }

        .steps-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .step {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .step-number {
            font-size: 3rem;
            font-weight: 700;
            color: rgba(255,255,255,0.2);
            line-height: 1;
        }

        .step-text h4 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .step-text p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* --- FAQ (PERGUNTAS FREQUENTES) --- */
        .faq-section {
            max-width: 900px;
            margin: 60px auto 100px auto; /* Margem grande embaixo */
            padding: 0 20px;
        }
        .faq-section h2 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
            color: var(--secondary-color);
        }
        .faq-item {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-bottom: 15px;
            overflow: hidden; /* Importante para a animação */
            border: 1px solid #eee;
        }
        .faq-question {
            width: 100%;
            background: white;
            border: none;
            padding: 20px 25px;
            text-align: left;
            font-size: 1.05rem;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: 'Poppins', sans-serif;
            transition: background 0.3s;
        }
        .faq-question:hover {
            background: #f8f9fa;
        }
        /* Ícone da seta que gira */
        .faq-question::after {
            content: '\f078'; /* Código do ícone chevron-down do FontAwesome */
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: #7B2CBF;
            transition: transform 0.3s ease;
        }
        .faq-question.active::after {
            transform: rotate(180deg); /* Gira a seta quando aberto */
        }
        .faq-answer {
            max-height: 0; /* Escondido por padrão */
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background: #fdfdfd;
        }
        .faq-answer p {
            padding: 20px 25px;
            color: #666;
            line-height: 1.6;
            font-size: 0.95rem;
            border-top: 1px solid #f0f0f0;
        }

        /* --- RESPONSIVIDADE --- */
        @media (max-width: 768px) {
            .hero h1 { font-size: 1.8rem; }
            .downloader-box { flex-direction: column; padding: 20px; border-radius: 20px; }
            .downloader-box input { width: 100%; margin-bottom: 15px; text-align: center; }
            .paste-btn { width: 100%; justify-content: center; border-right: none; border-bottom: 1px solid #eee; margin-bottom: 10px; }
            .download-btn { width: 100%; }
        }

        /* Overlay para escurecer o fundo quando o menu abre */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            z-index: 150;
        }
        .overlay.active { display: block; }

/* --- RODAPÉ (FOOTER) - NOVO VISUAL --- */
        footer {
            background: var(--primary-gradient); /* O mesmo gradiente do topo */
            color: white;
            padding: 60px 20px 30px 20px;
            text-align: center;
            margin-top: 80px;
            /* Um leve arredondamento no topo para ficar moderno */
            border-top-left-radius: 30px; 
            border-top-right-radius: 30px;
        }
        .footer-logo {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: inline-block;
            color: white; /* Logo branca para destacar no fundo roxo */
        }
        .footer-links {
            margin-bottom: 30px;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 25px;
        }
        .footer-links a {
            color: rgba(255, 255, 255, 0.9); /* Branco levemente transparente */
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
        }
        .footer-links a:hover {
            color: #fff;
            text-decoration: underline;
            transform: translateY(-2px);
        }
        .footer-disclaimer {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7); /* Texto jurídico mais discreto */
            max-width: 800px;
            margin: 0 auto 25px auto;
            line-height: 1.6;
        }
        .footer-copyright {
            font-size: 0.9rem;
            color: white;
            font-weight: 600;
            border-top: 1px solid rgba(255, 255, 255, 0.2); /* Linha divisória sutil */
            padding-top: 20px;
        }

/* --- ESTILO DOS BOTÕES DE QUALIDADE --- */
        .quality-label {
            color: white;
            margin: 15px 0 10px 0;
            font-size: 1rem;
            font-weight: 500;
        }
        .quality-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2 botões por linha no celular */
            gap: 10px;
            margin-bottom: 20px;
        }
        .quality-card {
            cursor: pointer;
            position: relative;
        }
        .quality-card input {
            display: none; /* Esconde a bolinha feia do rádio */
        }
        .card-content {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            color: white;
            transition: 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }
        .card-content i { font-size: 1.3rem; margin-bottom: 5px; }
        .card-content span { font-weight: 700; font-size: 0.9rem; }
        .card-content small { font-size: 0.75rem; opacity: 0.8; }

        /* Cores quando selecionado */
        .quality-card:hover .card-content { background: rgba(255,255,255,0.25); }
        
        .quality-card input[value="best"]:checked + .card-content { 
            background: white; color: #7B2CBF; border-color: white; transform: scale(1.02); box-shadow: 0 0 15px rgba(123, 44, 191, 0.5); 
        }
        .quality-card input[value="720"]:checked + .card-content { 
            background: white; color: #00bbf9; border-color: white; 
        }
        .quality-card input[value="480"]:checked + .card-content { 
            background: white; color: #00f5d4; border-color: white; 
        }
        .quality-card input[value="360"]:checked + .card-content { 
            background: white; color: #fee440; border-color: white; 
        }
        .quality-card input[value="mp3"]:checked + .card-content { 
            background: white; color: #ff0054; border-color: white; 
        }

        /* Botão de áudio ocupa linha inteira */
        .quality-card.full-width { grid-column: 1 / -1; }
        
        /* Ajuste para PC (4 colunas) */
        @media (min-width: 768px) {
            .quality-options { grid-template-columns: repeat(4, 1fr); }
            .quality-card.full-width { grid-column: span 4; width: 50%; margin: 0 auto; }
        }

/* --- POPUP DE DOWNLOAD --- */
        .modal-overlay {
            display: none; /* Escondido por padrão */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

       /* ATUALIZE A CAIXA DO POPUP */
        .modal-box {
            background: white;
            width: 90%;
            max-width: 400px;
            /* MUDANÇA: Padding bottom é 0 para o rodapé colar na borda */
            padding: 30px 20px 0 20px; 
            border-radius: 25px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            position: relative;
            animation: slideUp 0.3s ease;
            overflow: hidden; /* Importante: corta o rodapé nas bordas arredondadas */
            
            /* --- FLEXBOX --- */
            display: flex;
            flex-direction: column; 
            align-items: center;    
            justify-content: flex-start; 
            
            min-height: 550px; 
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-title {
            color: #333;
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-weight: 700;
        }

        /* Barra de Progresso */
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            height: 12px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #7B2CBF, #4CC9F0);
            border-radius: 10px;
            transition: width 0.4s ease;
        }

        .status-text {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 20px;
            font-weight: 500;
        }

        /* Espaço para Anúncio no Popup */
        .ad-popup-space {
            width: 100%;
            height: 250px; 
            background-color: #f8f9fa;
            border: 2px dashed #ccc;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #999;
            font-size: 0.8rem;
            margin-top: 20px;
            overflow: hidden;
        }

       /* Ajuste do Ícone de Sucesso */
        .success-icon {
            color: #2ecc71;
            font-size: 4rem;
            display: none;
            
            /* --- MUDANÇA AQUI --- */
            /* Essa margem empurra o ícone para baixo, saindo de trás do botão */
            margin: 60px auto 15px auto; 
            
            animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        @keyframes popIn {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }

        /* --- NOVA ÁREA DE RODAPÉ (Caixinha cinza) --- */
        .modal-footer {
            margin-top: auto; /* Empurra tudo para o fundo */
            width: calc(100% + 40px); /* Truque para compensar o padding lateral do pai */
            background-color: #f8f9fa; /* Cor cinza claro */
            border-top: 1px solid #eee;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        /* BOTÃO DENTRO DO RODAPÉ */
        .close-btn {
            background: linear-gradient(90deg, #7B2CBF, #4CC9F0);
            color: white;
            border: none;
            padding: 15px 0;
            border-radius: 50px;
            cursor: pointer;
            width: 100%;
            display: none;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(123, 44, 191, 0.4);
            transition: transform 0.2s;
        }
        
        .close-btn:hover {
            transform: scale(1.02);
        }

/* --- SEÇÃO DE CONTATO --- */
        .contact-section {
            max-width: 800px;
            margin: 80px auto;
            padding: 0 20px;
            text-align: center;
        }

        .contact-section h2 {
            font-size: 2rem;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .contact-subtitle {
            color: #666;
            margin-bottom: 40px;
        }

        .contact-form {
            background: #f8f9fa; /* Fundo cinza bem claro */
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            text-align: left; /* Alinha os labels à esquerda */
            border: 1px solid #eee;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            background: white;
            transition: border-color 0.3s, box-shadow 0.3s;
            outline: none;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            border-color: #4CC9F0;
            box-shadow: 0 0 0 3px rgba(76, 201, 240, 0.1);
        }

        .send-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            display: block;
            margin-left: auto; /* Joga o botão para a direita */
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(123, 44, 191, 0.3);
        }

        .contact-note {
            margin-top: 30px;
            font-size: 0.9rem;
            color: #888;
            line-height: 1.6;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Responsividade para celular */
        @media (max-width: 768px) {
            .contact-form {
                padding: 25px;
            }
            .send-btn {
                width: 100%; /* Botão largura total no celular */
                margin-left: 0;
            }
        }

/* --- ESTILO DAS CONFIGURAÇÕES --- */
        .close-btn-corner {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .settings-list {
            width: 100%;
            margin-top: 20px;
            text-align: left;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .setting-name {
            display: block;
            font-weight: 600;
            color: #333;
        }

        .setting-desc {
            font-size: 0.8rem;
            color: #888;
        }

        /* Botão Vermelho de Limpar */
        .clear-data-btn {
            width: 100%;
            margin-top: 20px;
            padding: 12px;
            background: #ffebee;
            color: #ff4757;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
        }
        .clear-data-btn:hover {
            background: #ffcdd2;
        }

        /* --- BOTÃO SWITCH (TOGGLE) --- */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #7B2CBF; /* Cor do seu tema */
        }
        input:checked + .slider:before {
            transform: translateX(24px);
        }

        /* --- CLASSE DO MODO ESCURO (CSS DO TEMA) --- */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #f0f0f0;
        }
        body.dark-mode .modal-box, 
        body.dark-mode .sidebar,
        body.dark-mode header,
        body.dark-mode .downloader-box,
        body.dark-mode .faq-item,
        body.dark-mode .faq-question {
            background-color: #2d2d2d;
            color: #fff;
            border-color: #444;
        }
        body.dark-mode .modal-title,
        body.dark-mode .setting-name,
        body.dark-mode .sidebar a {
            color: #fff;
        }

/* --- ESTILO DA LISTA DE HISTÓRICO --- */
        .history-item {
            display: flex;
            justify-content: space-between; /* Texto na ponta, botão na outra */
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .history-link-text {
            flex: 1; /* Ocupa todo o espaço sobrando */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis; /* Faz aparecer os "..." */
            color: #555;
            font-size: 0.85rem;
            margin-right: 10px;
            cursor: pointer;
        }
        
        .history-link-text:hover {
            color: #4CC9F0;
        }

        .copy-mini-btn {
            background: #eee;
            color: #333;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
            min-width: 60px;
        }

        .copy-mini-btn:hover {
            background: #7B2CBF;
            color: white;
        }

/* --- ESTILOS DOS ANÚNCIOS (BANNERS) --- */
        
        /* Container Geral (Centraliza tudo) */
        .ad-container-top, 
        .ad-container-modal {
            margin: 15px auto;
            text-align: center;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* Texto "Publicidade" pequeno e discreto */
        .ad-label {
            font-size: 10px;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
            display: block;
        }

        /* CAIXA 1: Banner Largo (Topo) */
        .ad-box-banner {
            width: 728px;
            height: 90px;
            background-color: #f1f1f1;
            border: 1px dashed #ccc;
            color: #888;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            
            /* Para celular não quebrar: */
            max-width: 95%; 
        }

        /* CAIXA 2: Retângulo (Popup) */
        .ad-box-square {
            width: 300px;
            height: 250px;
            background-color: #f1f1f1;
            border: 1px dashed #ccc;
            color: #888;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto;
        }

        /* --- SUPORTE AO MODO ESCURO --- */
        body.dark-mode .ad-box-banner,
        body.dark-mode .ad-box-square {
            background-color: #2d2d2d; /* Fundo escuro */
            border-color: #444;
            color: #666;
        }
        
        body.dark-mode .ad-label {
            color: #555;
        }

        /* --- AJUSTE PARA CELULAR (RESPONSIVO) --- */
        @media (max-width: 768px) {
            .ad-box-banner {
                /* No celular, o banner 728x90 é grande demais. 
                   Geralmente as redes de anúncio trocam automático para 320x50.
                   Aqui só ajustamos a caixa visualmente: */
                width: 320px; 
                height: 50px;
                font-size: 0.7rem;
            }
        }

    </style>
</head>
<body>

    
    <nav class="navbar">
        
    <div class="overlay" onclick="toggleMenu()"></div>
    <div class="sidebar" id="sidebar">
        <div class="close-btn" onclick="toggleMenu()">&times;</div>
        <a href="#" onclick="changePlatform('TikTok')"><i class="fab fa-tiktok"></i> Baixar TikTok</a>
        <a href="#" onclick="changePlatform('Instagram')"><i class="fab fa-instagram"></i> Baixar Instagram</a>
        <a href="#" onclick="changePlatform('YouTube')"><i class="fab fa-youtube"></i> Baixar YouTube</a>
        <a href="#" onclick="openSettings()"><i class="fas fa-cog"></i> Configurações</a>
    </div>

    <header>
        <a href="/" class="logo"><i class="fas fa-bolt"></i> FastSave</a>
        <div class="hamburger" onclick="toggleMenu()">
            <i class="fas fa-bars"></i>
        </div>
    </header>

    <section class="hero">
        <div class="ad-container-top">
    <span class="ad-label">Publicidade</span>
    <div class="ad-box-banner">
        <script>
            atOptions = {
                'key' : '005ac580a2fe5c976ef5d2977ad67dfe',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/005ac580a2fe5c976ef5d2977ad67dfe/invoke.js"></script>
    </div>
</div>
    </div>
        <h1 id="hero-title">Baixar vídeo do TikTok</h1>
        <p style="margin-bottom: 20px; opacity: 0.9;">Cole o link abaixo para baixar em HD sem marca d'água</p>
        
        <form action="/download" method="POST" id="downloadForm">
            <div class="downloader-box">
                <button type="button" class="paste-btn" onclick="pasteLink()">
                    <i class="fas fa-paste"></i> Colar
                </button>
                
                <input type="text" name="url" id="urlInput" placeholder="Cole o link do vídeo aqui..." required>
                
                <button type="submit" class="download-btn">
                    Baixar <i class="fas fa-download"></i>
                </button>
            </div>

           <div class="quality-grid">
                <p class="quality-label">Escolha a qualidade:</p>
                <div class="quality-options">
                    
                    <label class="quality-card">
                        <input type="radio" name="format" value="best" checked>
                        <div class="card-content">
                            <i class="fas fa-crown"></i>
                            <span>Máxima</span>
                            <small>HD / 4K</small>
                        </div>
                    </label>

                    <label class="quality-card">
                        <input type="radio" name="format" value="720">
                        <div class="card-content">
                            <i class="fas fa-video"></i>
                            <span>HD</span>
                            <small>720p</small>
                        </div>
                    </label>

                    <label class="quality-card">
                        <input type="radio" name="format" value="480">
                        <div class="card-content">
                            <i class="fas fa-film"></i>
                            <span>Média</span>
                            <small>480p</small>
                        </div>
                    </label>

                    <label class="quality-card">
                        <input type="radio" name="format" value="360">
                        <div class="card-content">
                            <i class="fas fa-compress-arrows-alt"></i>
                            <span>Leve</span>
                            <small>360p</small>
                        </div>
                    </label>

                    <label class="quality-card full-width">
                        <input type="radio" name="format" value="mp3">
                        <div class="card-content">
                            <i class="fas fa-music"></i>
                            <span>Áudio (MP3)</span>
                        </div>
                    </label>
                </div>
            </div>
        </form>
    </section>

   <section class="features">
        <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-infinity"></i></div>
            <h3>Downloads Ilimitados</h3>
            <p>Salve quantos vídeos precisar, sem limites ou restrições diárias.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-tint-slash"></i></div>
            <h3>Sem Marca D'água</h3>
            <p id="feature-text">Obtenha o vídeo limpo, sem o logotipo do TikTok ou nome do usuário.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-music"></i></div>
            <h3>MP4 e MP3</h3>
            <p>Baixe o vídeo em alta qualidade HD ou converta apenas para música.</p>
        </div>
    </section>

<section class="about-text">
        <h2 id="about-title">Por que baixar vídeos do TikTok com o FastSave?</h2>
        <div>
            <p>O <strong>FastSave</strong> é a melhor ferramenta online para baixar vídeos sem marca d'água. Nossa tecnologia permite salvar conteúdos do TikTok, Instagram e YouTube em qualidade HD (High Definition) de forma totalmente gratuita.</p>
            <p>Não é necessário instalar programas ou extensões. Tudo funciona direto no seu navegador: basta copiar o link, colar no campo acima e pronto! O processamento é feito em nossos servidores ultra-rápidos.</p>
            <p>Compatível com Android, iOS (iPhone), Windows e MacOS. Baixe videos agora mesmo para criar edits, compartilhar no WhatsApp ou assistir offline.</p>
        </div>
    </section>

    <section class="extra-features">
        <div class="extra-item">
            <i class="fas fa-link"></i>
            <p>Baixar vídeo do TikTok para editar e publicar seus vídeos.</p>
        </div>
        <div class="extra-item">
            <i class="fas fa-tag"></i>
            <p>É grátis. Você pode salvar quantos vídeos do TikTok quiser.</p>
        </div>
        <div class="extra-item">
            <i class="fas fa-user-slash"></i>
            <p>Seu registro não é necessário. Basta abrir nosso site e colar o link.</p>
        </div>
        <div class="extra-item">
            <i class="fas fa-bolt"></i>
            <p>Salvar vídeos do TikTok pelo link em alta velocidade.</p>
        </div>
        <div class="extra-item">
            <i class="fas fa-music"></i>
            <p>TikTok download MP4 e arquivos MP3 de alta qualidade.</p>
        </div>
        <div class="extra-item">
            <i class="fas fa-desktop"></i>
            <p>Funciona para todos os navegadores e sistemas (Windows, Mac, Linux).</p>
        </div>
    </section>

    <section class="how-to">
        <h2 id="howto-title">Como baixar vídeo do TikTok sem marca d'água?</h2>
        <div class="steps-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-text">
                    <h4>Encontrar um vídeo</h4>
                    <p id="howto-step1">Abra o aplicativo TikTok, escolha o vídeo e clique em "Compartilhar" > "Copiar Link".</p>
                </div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-text">
                    <h4>Cole o link</h4>
                    <p>Volte aqui no site, clique no botão "Colar" ou insira o link no campo de texto.</p>
                </div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-text">
                    <h4>Baixar</h4>
                    <p>Clique no botão Baixar e aguarde alguns segundos. O arquivo será salvo no seu dispositivo.</p>
                </div>
            </div>
        </div>
    </section>
 
    <section class="faq-section">
        <h2>Perguntas Frequentes</h2>
        
        <div class="faq-item">
            <button class="faq-question">Preciso pagar para baixar vídeos do TikTok?</button>
            <div class="faq-answer">
                <p>Não, o serviço é totalmente gratuito. Você pode baixar quantos vídeos quiser sem pagar nada e sem limites diários.</p>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">Preciso instalar extensões ou apps?</button>
            <div class="faq-answer">
                <p>Não. Para baixar vídeos e remover a marca d'água, você só precisa do link. Cole-o no nosso site e pronto. Funciona direto no navegador.</p>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">Onde os vídeos são salvos?</button>
            <div class="faq-answer">
                <p>Geralmente, os vídeos são salvos na pasta "Downloads" do seu dispositivo (Android, iOS, Windows ou Mac), a menos que você tenha alterado essa configuração no navegador.</p>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">Posso baixar vídeos em HD?</button>
            <div class="faq-answer">
                <p>Sim! O FastSave busca sempre a maior qualidade disponível no servidor original do TikTok, Instagram ou YouTube para te entregar o arquivo em alta definição.</p>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">Funciona no iPhone (iOS) e Android?</button>
            <div class="faq-answer">
                <p>Sim. O site é compatível com qualquer dispositivo móvel. No iPhone (iOS 13+), basta usar o navegador Safari e o download será salvo nos seus Arquivos.</p>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">Como converter vídeos do TikTok para MP4 online?</button>
            <div class="faq-answer">
                <p>É automático. Ao colar o link no FastSave e clicar em baixar, nosso sistema processa o vídeo e disponibiliza o arquivo final já convertido em formato MP4, compatível com todos os players.</p>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">Preciso de uma conta no TikTok para baixar vídeos?</button>
            <div class="faq-answer">
                <p>Não, você não precisa de uma conta no TikTok. Basta colar o link do vídeo no FastSave para baixar sem marca d'água. Não exigimos login nem cadastro.</p>
            </div>
        </div>

        <div class="faq-item">
            <button class="faq-question">Posso baixar vídeos de contas privadas do TikTok?</button>
            <div class="faq-answer">
                <p>Não. O FastSave respeita a privacidade dos usuários. Só é possível baixar vídeos de contas configuradas como "Públicas". Vídeos de perfis privados não podem ser acessados.</p>
            </div>
        </div>
    </section>

<section class="contact-section" id="contact">
        <h2>Entre em Contato</h2>
        <p class="contact-subtitle">Dúvidas, sugestões ou relatar um erro? Envie uma mensagem.</p>
        
       <form class="contact-form" action="https://formsubmit.co/ajax/e59e3d9e3eb08b3507d53be9e4d6b7b3" method="POST">
            
            <input type="hidden" name="_template" value="table"> <input type="hidden" name="_subject" value="Nova mensagem do FastSave!"> <input type="hidden" name="_captcha" value="false"> <div class="form-group">
                <label for="email">Seu e-mail de contato</label>
                <input type="email" id="email" name="email" placeholder="nome@exemplo.com" required>
            </div>

            <div class="form-group">
                <label for="message">Mensagem ou relato de erro</label>
                <textarea id="message" name="message" rows="5" placeholder="Descreva sua dúvida..." required></textarea>
            </div>

            <button type="submit" class="send-btn">
                Enviar Mensagem <i class="fas fa-paper-plane"></i>
            </button>
        </form>

        <p class="contact-note">
            Estamos aqui para responder a quaisquer perguntas ou dúvidas que você possa ter. 
            Entre em contato conosco e responderemos o mais breve possível.
        </p>
    </section>

<footer>
        <div class="footer-logo">FastSave</div>
        
        <div class="footer-links">
            <a href="#" onclick="changePlatform('TikTok')">Baixar TikTok</a>
            <a href="#" onclick="changePlatform('Instagram')">Baixar Instagram</a>
            <a href="#" onclick="changePlatform('YouTube')">Baixar YouTube</a>
            
            <a href="/termos">Termos de Uso</a>
            <a href="/politica">Política de Privacidade</a>
            <a href="#contact">Contato</a>
        </div>

        <p class="footer-disclaimer">
            Não temos qualquer vínculo com o TikTok, ByteDance, Meta, Instagram ou Google/YouTube. 
            O FastSave é uma ferramenta online independente projetada apenas para ajudar usuários a baixar conteúdo para uso pessoal. 
            Todos os direitos dos vídeos pertencem aos seus respectivos criadores.
        </p>

        <div class="footer-copyright">
            © 2026 FastSave - Todos os direitos reservados.
        </div>
    </footer>

<div class="modal-overlay" id="downloadModal">
    <div class="modal-box">
        <i class="fas fa-check-circle success-icon" id="successIcon"></i>
        <h3 class="modal-title" id="modalTitle">Processando seu vídeo...</h3>

        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <p class="status-text" id="statusText">0%</p>

       <div class="ad-container-modal">
    <span class="ad-label">Publicidade</span>
    <div class="ad-box-square">
        <script>
            atOptions = {
                'key' : 'a3de27fc4d53cccfdd01dc1e62f37834',
                'format' : 'iframe',
                'height' : 250,
                'width' : 300,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/a3de27fc4d53cccfdd01dc1e62f37834/invoke.js"></script>
    </div>
</div>

        <div class="modal-footer">
            <button class="close-btn" id="closeBtn" onclick="closeModal()">Baixar Outro Vídeo</button>
        </div>
    </div>
</div>

<div class="modal-overlay" id="settingsModal" onclick="if(event.target === this) closeSettings()">
        <div class="modal-box" style="min-height: auto; padding-bottom: 30px;">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-cog"></i> Configurações</h3>
                <button class="close-btn-corner" onclick="closeSettings()">&times;</button>
            </div>

            <div class="settings-list">
                <div class="setting-item">
                    <div class="setting-info">
                        <span class="setting-name">Modo Escuro</span>
                        <span class="setting-desc">Alternar para tema noturno</span>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
                        <span class="slider round"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <span class="setting-name">Salvar Histórico</span>
                        <span class="setting-desc">Lembrar últimos 5 links</span>
                    </div>
                    <label class="switch">
                        <input type="checkbox" id="historyToggle" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>

            <div id="historySection" style="margin-top: 20px; text-align: left; display: none;">
                <h4 style="font-size: 0.9rem; color: #666; margin-bottom: 10px;">Recentes:</h4>
                <div id="historyList" style="max-height: 150px; overflow-y: auto; font-size: 0.85rem;">
                    </div>
            </div>

            <div class="setting-action">
                <button class="clear-data-btn" onclick="clearAppData()">
                    <i class="fas fa-trash-alt"></i> Limpar Dados
                </button>
            </div>
            
            <p style="font-size: 0.8rem; color: #ccc; margin-top: 20px;">Versão 1.1.0 • FastSave</p>
        </div>
    </div>
    <script>
        // 1. Lógica do Menu (Abrir/Fechar)
        function toggleMenu() {
            document.getElementById('sidebar').classList.toggle('active');
            document.querySelector('.overlay').classList.toggle('active');
        }

        // 2. Lógica do Botão Colar
        async function pasteLink() {
            try {
                const text = await navigator.clipboard.readText();
                document.getElementById('urlInput').value = text;
            } catch (err) {
                alert('Tente Ctrl+V.');
            }
        }

        // 3. Lógica do FAQ (Acordeão) - Faz as perguntas abrirem e fecharem
        const faqQuestions = document.querySelectorAll(".faq-question");
        faqQuestions.forEach(question => {
            question.addEventListener("click", () => {
                question.classList.toggle("active");
                const answer = question.nextElementSibling;
                if (answer.style.maxHeight) {
                    answer.style.maxHeight = null;
                } else {
                    answer.style.maxHeight = answer.scrollHeight + "px";
                }
            });
        });

        // 4. A Grande Mágica: Atualiza TUDO quando troca a plataforma
        function changePlatform(platform) {
            // --- A. Atualiza o Topo (Hero) ---
            const title = document.getElementById('hero-title');
            const input = document.getElementById('urlInput');
            const aboutTitle = document.getElementById('about-title');
            
            title.innerText = `Baixar vídeo do ${platform}`;
            input.placeholder = `Cole o link do ${platform} aqui...`;
            if(aboutTitle) aboutTitle.innerText = `Por que baixar vídeos do ${platform} com o FastSave?`;

            // --- B. Atualiza a Seção de "Como Baixar" ---
            const howToTitle = document.getElementById('howto-title');
            const howToStep1 = document.getElementById('howto-step1');
            
            if(howToTitle) howToTitle.innerText = `Como baixar vídeo do ${platform} sem marca d'água?`;
            if(howToStep1) howToStep1.innerText = `Abra o aplicativo ${platform}, escolha o vídeo e clique em "Compartilhar" > "Copiar Link".`;

            // --- C. Atualiza os 3 Cards de Benefícios Principais ---
            const featureText = document.getElementById('feature-text');
            if(featureText) featureText.innerText = `Obtenha o vídeo limpo, sem o logotipo do ${platform} ou nome do usuário.`;

            // --- D. Atualiza os 6 Ícones Extras (Grade) ---
            // Pegamos todos os textos dos ícones e atualizamos um por um
            const extraTexts = document.querySelectorAll('.extra-item p');
            if(extraTexts.length >= 6) {
                extraTexts[0].innerText = `Baixar vídeo do ${platform} para editar e publicar seus vídeos.`;
                extraTexts[1].innerText = `É grátis. Você pode salvar quantos vídeos do ${platform} quiser.`;
                // O índice 2 é genérico ("Seu registro não é necessário"), não precisa mudar.
                extraTexts[3].innerText = `Salvar vídeos do ${platform} pelo link em alta velocidade.`;
                extraTexts[4].innerText = `${platform} download MP4 e arquivos MP3 de alta qualidade.`;
                // O índice 5 é genérico ("Funciona para todos..."), não precisa mudar.
            }

            // --- E. Atualiza o FAQ (Perguntas e Respostas) ---
            const faqQ = document.querySelectorAll('.faq-question');
            const faqA = document.querySelectorAll('.faq-answer p');

            // Verifica se o FAQ existe antes de tentar mudar
            if(faqQ.length > 0) {
                // Pergunta 1: Pagar?
                faqQ[0].innerText = `Preciso pagar para baixar vídeos do ${platform}?`;
                
                // Pergunta 2: Extensões?
                faqQ[1].innerText = `Preciso instalar extensões para baixar vídeo do ${platform}?`;
                faqA[1].innerText = `Não. Para baixar vídeos do ${platform} e remover marca d'água, você só precisa do link. Cole-o no nosso site e pronto.`;

                // Pergunta 3: Onde salva?
                faqQ[2].innerText = `Onde os vídeos do ${platform} são salvos?`;

                // Pergunta 4: HD?
                faqQ[3].innerText = `Posso baixar vídeos do ${platform} em HD?`;
                faqA[3].innerText = `Sim! O FastSave busca sempre a maior qualidade disponível no servidor original do ${platform} para te entregar o arquivo em alta definição.`;

                // Pergunta 5: iPhone?
                faqQ[4].innerText = `Como baixar vídeos do ${platform} no iPhone (iOS)?`;

                // Pergunta 6: Converter MP4?
                if(faqQ[5]) {
                    faqQ[5].innerText = `Como converter vídeos do ${platform} para MP4 online?`;
                    faqA[5].innerText = `É automático. Ao colar o link do ${platform} no FastSave e clicar em baixar, nosso sistema processa o vídeo e disponibiliza o arquivo final.`;
                }

                // Pergunta 7: Conta?
                if(faqQ[6]) {
                    faqQ[6].innerText = `Preciso de uma conta no ${platform} para baixar vídeos?`;
                    faqA[6].innerText = `Não, você não precisa de uma conta no ${platform}. Basta colar o link do vídeo para baixar sem marca d'água.`;
                }

                // Pergunta 8: Privado?
                if(faqQ[7]) {
                    faqQ[7].innerText = `Posso baixar vídeos de contas privadas do ${platform}?`;
                    faqA[7].innerText = `Não. O FastSave respeita a privacidade. Só é possível baixar vídeos de contas públicas do ${platform}.`;
                }
            }

            // Fecha o menu lateral
            toggleMenu();
        }

        // --- CÓDIGO DO POPUP DE DOWNLOAD (PASSO 3) ---

    const form = document.getElementById('downloadForm');
    const modal = document.getElementById('downloadModal');
    const progressBar = document.getElementById('progressBar');
    const statusText = document.getElementById('statusText');
    const modalTitle = document.getElementById('modalTitle');
    const successIcon = document.getElementById('successIcon');
    const closeBtn = document.getElementById('closeBtn');
    const progressContainer = document.getElementById('progressContainer');

    // 1. Intercepta o clique no botão "Baixar"
    if (form) {
        form.addEventListener('submit', function(e) {
            e.preventDefault(); // Impede o site de recarregar
            
            // --- INÍCIO DO CÓDIGO DE SALVAR ---
                const urlInput = document.getElementById('urlInput').value;
                const historyToggle = document.getElementById('historyToggle');
                
                // Só salva se o botão estiver ligado e tiver texto
                if (historyToggle && historyToggle.checked && urlInput.trim() !== "") {
                    let history = JSON.parse(localStorage.getItem('downloadHistory') || '[]');
                    
                    // Evita salvar o mesmo link duas vezes seguidas
                    if(history[0] !== urlInput) {
                        history.unshift(urlInput); // Adiciona no topo da lista
                        if(history.length > 5) history.pop(); // Mantém só os 5 últimos
                        localStorage.setItem('downloadHistory', JSON.stringify(history));
                    }
                }
            
        
            // Abre o popup
            modal.style.display = 'flex';
            resetModal();

            // 2. Simula a barra enchendo (Mágica visual)
            let width = 0;
            const interval = setInterval(() => {
                // Só enche até 90% enquanto o servidor pensa
                if (width >= 90) {
                    clearInterval(interval);
                } else {
                    width += Math.random() * 5; // Sobe aleatoriamente
                    if(width > 90) width = 90;
                    updateProgress(width);
                }
            }, 300);

            // 3. Envia o pedido para o Python (Servidor)
            const formData = new FormData(form);
            
            fetch('/download', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    return response.blob(); // Recebe o arquivo
                } else {
                    throw new Error('Erro no download');
                }
            })
            .then(blob => {
                // 4. Sucesso! Completa a barra para 100%
                clearInterval(interval);
                updateProgress(100);
                showSuccess();

                // Faz o navegador baixar o arquivo recebido
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.style.display = 'none';
                a.href = url;
                a.download = "video_fastsave.mp4"; // Nome do arquivo salvo
                document.body.appendChild(a);
                a.click();
                window.URL.revokeObjectURL(url);
            })
            .catch(error => {
                // Se der erro
                clearInterval(interval);
                modalTitle.innerText = "Erro ao baixar";
                modalTitle.style.color = "#ff4757";
                statusText.innerText = "Verifique o link e tente novamente.";
                progressBar.style.background = "#ff4757";
                closeBtn.style.display = 'block';
                closeBtn.innerText = "Tentar Novamente";
            });
        });
    }

    // Funções auxiliares para mudar o visual
    function updateProgress(val) {
        const rounded = Math.round(val);
        progressBar.style.width = rounded + '%';
        statusText.innerText = rounded + '% Carregando...';
    }

    function showSuccess() {
        modalTitle.innerText = "Download Concluído!";
        statusText.innerText = "Seu arquivo foi salvo.";
        successIcon.style.display = 'block';
        closeBtn.style.display = 'block';
        closeBtn.innerText = "Baixar Outro Vídeo";
        progressContainer.style.display = 'none'; // Esconde a barra no final
    }

    function resetModal() {
        progressBar.style.width = '0%';
        progressBar.style.background = 'linear-gradient(90deg, #7B2CBF, #4CC9F0)';
        statusText.innerText = '0%';
        modalTitle.innerText = 'Processando...';
        modalTitle.style.color = '#333';
        successIcon.style.display = 'none';
        closeBtn.style.display = 'none';
        progressContainer.style.display = 'block';
    }

    function closeModal() {
        modal.style.display = 'none';
    }

    // --- LÓGICA DO FORMULÁRIO (ENVIO REAL COM FORMSUBMIT) ---
    const contactForm = document.querySelector('.contact-form');
    const sendBtn = document.querySelector('.send-btn');

    if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault(); // Impede a página de recarregar

            const originalText = sendBtn.innerHTML;
            
            // 1. Muda botão para "Enviando..."
            sendBtn.innerHTML = 'Enviando... <i class="fas fa-spinner fa-spin"></i>';
            sendBtn.style.opacity = '0.7';
            sendBtn.disabled = true;

            // 2. Coleta os dados e envia para o FormSubmit
            const formData = new FormData(contactForm);

            fetch(contactForm.action, {
                method: 'POST',
                body: formData,
                headers: { 
                    'Accept': 'application/json' 
                }
            })
            .then(response => {
                // 3. Se deu certo (Sucesso)
                sendBtn.innerHTML = 'Enviado com Sucesso! <i class="fas fa-check"></i>';
                sendBtn.style.background = '#2ecc71'; // Verde
                contactForm.reset(); // Limpa os campos

                // Volta ao normal depois de 3 segundos
                setTimeout(() => {
                    sendBtn.innerHTML = originalText;
                    sendBtn.style.background = 'var(--primary-gradient)';
                    sendBtn.style.opacity = '1';
                    sendBtn.disabled = false;
                }, 3000);
            })
            .catch(error => {
                // 4. Se der erro
                sendBtn.innerHTML = 'Erro ao enviar. Tente novamente.';
                sendBtn.style.background = '#ff4757'; // Vermelho
                console.error('Erro:', error);
                
                setTimeout(() => {
                    sendBtn.innerHTML = originalText;
                    sendBtn.style.background = 'var(--primary-gradient)';
                    sendBtn.style.opacity = '1';
                    sendBtn.disabled = false;
                }, 3000);
            });
        });
    }

   // --- LÓGICA DAS CONFIGURAÇÕES (ATUALIZADA) ---

        // 1. Abrir Configurações e Carregar Histórico com Botão Copiar
        function openSettings() {
            const modal = document.getElementById('settingsModal');
            const historySection = document.getElementById('historySection');
            const historyList = document.getElementById('historyList');

            if(modal) modal.style.display = 'flex';
            toggleMenu(); // Fecha o menu lateral

            // Carrega o histórico salvo
            const history = JSON.parse(localStorage.getItem('downloadHistory') || '[]');

            if (history.length > 0 && historySection && historyList) {
                historySection.style.display = 'block'; // Mostra a área
                historyList.innerHTML = ''; // Limpa a lista antiga
                
                // Cria cada item da lista
                history.forEach(link => {
                    // Cria o container da linha (usando a classe CSS nova)
                    const item = document.createElement('div');
                    item.className = 'history-item';
                    
                    // A. O Texto do Link (Cortado)
                    const textSpan = document.createElement('span');
                    textSpan.className = 'history-link-text';
                    textSpan.innerHTML = `<i class="fas fa-link" style="margin-right:5px;"></i> ${link}`;
                    
                    // Clicar no texto preenche o input principal
                    textSpan.onclick = function() {
                        const urlInput = document.getElementById('urlInput');
                        if(urlInput) urlInput.value = link;
                        closeSettings();
                    };

                    // B. O Botão Copiar
                    const copyBtn = document.createElement('button');
                    copyBtn.className = 'copy-mini-btn';
                    copyBtn.innerText = 'Copiar';
                    
                    // Clicar no botão copia para a área de transferência
                    copyBtn.onclick = function(e) {
                        e.stopPropagation(); // Não deixa clicar no link ao mesmo tempo
                        
                        navigator.clipboard.writeText(link).then(() => {
                            // Feedback visual (Muda texto para "Copiado!")
                            const originalText = copyBtn.innerText;
                            copyBtn.innerText = 'Copiado!';
                            copyBtn.style.background = '#2ecc71'; // Verde
                            copyBtn.style.color = 'white';

                            // Volta ao normal depois de 2 segundos
                            setTimeout(() => {
                                copyBtn.innerText = originalText;
                                copyBtn.style.background = '#eee';
                                copyBtn.style.color = '#333';
                            }, 2000);
                        });
                    };

                    // Junta tudo na linha
                    item.appendChild(textSpan);
                    item.appendChild(copyBtn);
                    historyList.appendChild(item);
                });
            } else if (historySection) {
                historySection.style.display = 'none'; // Esconde se estiver vazio
            }
        }

        function closeSettings() {
            const modal = document.getElementById('settingsModal');
            if(modal) modal.style.display = 'none';
        }

        // 2. Lógica do Dark Mode
        function toggleDarkMode() {
            const body = document.body;
            const toggle = document.getElementById('darkModeToggle');
            
            if(toggle && toggle.checked) {
                body.classList.add('dark-mode');
                localStorage.setItem('theme', 'dark');
            } else {
                body.classList.remove('dark-mode');
                localStorage.setItem('theme', 'light');
            }
        }

        // 3. Carregar preferências ao abrir o site
        window.addEventListener('load', () => {
            const savedTheme = localStorage.getItem('theme');
            if(savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                const toggle = document.getElementById('darkModeToggle');
                if(toggle) toggle.checked = true;
            }
        });

        // 4. Limpar Dados
        function clearAppData() {
            if(confirm("Tem certeza? Isso apagará seu histórico e preferências.")) {
                localStorage.clear();
                location.reload(); // Recarrega a página para aplicar
            }
        }
    </script>

</body>
</html>